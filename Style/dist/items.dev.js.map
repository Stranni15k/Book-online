{"version":3,"sources":["items.js"],"names":["imagefilms","filmid","Handlebars","registerHelper","value","options","parseInt","items","Map","ItemLine","imgsource","price","title","name","description","item","loadItemsTable","console","info","drawItemsTable","table","document","querySelector","fetch","then","response","text","html","template","compile","innerHTML","Object","fromEntries","entries","error","json","data","clear","i","length","current","set","id","createFrom","butt","onclick","imglem","getElementById","namelem","pricelem","authorlem","descriptionlem","currentname","userid","method","body","JSON","stringify","headers","log","removeItemFromTable","confirm","has","edititem","content","editItemFromTable","modalokno","style","visibility","addtoitem","GetDescription","desc","loadItemsSelect","select","drawItemsSelect","donwload","input","file","files","reader","FileReader","readAsDataURL","onload","result"],"mappings":"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","sourcesContent":["'use strict'\r\n\r\nvar imagefilms;\r\nvar filmid = 10;\r\n\r\nHandlebars.registerHelper(\"inc\", function (value, options) {\r\n    return parseInt(value) + 1;\r\n});\r\n\r\nconst items = new Map();\r\n\r\nclass ItemLine {\r\n    constructor(imgsource, price, title, name,description) {\r\n        this.imgsource = imgsource;\r\n        this.price = parseInt(price);\r\n        this.title = title;\r\n        this.name = name;\r\n        this.description = description;\r\n    }\r\n\r\n    static createFrom(item) {\r\n        return new ItemLine(item.imgsource, item.price, item.title, item.name, item.description);\r\n    }\r\n};\r\n\r\nfunction loadItemsTable() {\r\n    console.info('Try to load data');\r\n\r\n    function drawItemsTable() {\r\n        console.info('Try to draw table');\r\n\r\n        const table = document.querySelector(\".books #out\");\r\n        if (table == null) {\r\n            throw 'Table is not found';\r\n        }\r\n\r\n        fetch(\"handlebars/items-table.html\")\r\n            .then(function (response) {\r\n                return response.text();\r\n            })\r\n            .then(function (html) {\r\n                const template = Handlebars.compile(html);\r\n                table.innerHTML = template({ 'items': Object.fromEntries(items.entries()) });\r\n                console.info('Drawn');\r\n            })\r\n            .catch(function (error) {\r\n                console.error('Error:', error);\r\n                throw \"Can't render template\";\r\n            });\r\n    }\r\n\r\n    fetch(\"http://localhost:8079/lines\")\r\n        .then(function (response) {\r\n            return response.json();\r\n        })\r\n        .then(function (data) {\r\n            console.info('Loaded');\r\n            items.clear();\r\n            for (let i = 0; i < data.length; i++) {\r\n                const current = data[i];\r\n                items.set(current.id, ItemLine.createFrom(current));\r\n            }\r\n            drawItemsTable();\r\n        })\r\n        .catch(function (error) {\r\n            console.error('Error:', error);\r\n            throw \"Can't load items\";\r\n        });\r\n}\r\n\r\nbutt.onclick = function() {\r\n\r\n    var imglem = document.getElementById('urltoimage').innerHTML = imagefilms;\r\n    var namelem = document.getElementById('namelem').value;\r\n    var pricelem = document.getElementById('pricelem').value;\r\n    var authorlem = document.getElementById('authorlem').value;\r\n    var descriptionlem = document.getElementById('descriptionlem').value;\r\n    \r\n    filmid = filmid + 1;\r\n\r\n    const current = {imgsource: imglem, price: pricelem, title: namelem, name: authorlem, description: descriptionlem};\r\n    const currentname = {name: namelem, id: userid};\r\n\r\n    fetch(\"http://localhost:8079/lines\", \r\n    { \r\n        method: 'POST', \r\n        body: JSON.stringify(current),\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then(function (response) {\r\n        return response.json();\r\n    })\r\n    .then(function (data) {\r\n        console.info('Added');\r\n        console.log(data);\r\n        \r\n        loadItemsTable();\r\n    })\r\n    .catch(function (error) {\r\n        console.error('Error:', error);\r\n        throw \"Can't add item\";\r\n    });\r\n\r\n    fetch(\"http://localhost:8079/items/\", \r\n    { \r\n        method: 'POST',\r\n        body: JSON.stringify(currentname),\r\n        headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json'\r\n        }\r\n    })\r\n    .then(function (response) {\r\n        return response.json();\r\n    })\r\n    .then(function (data) {\r\n        console.info('Added');\r\n        console.log(data);\r\n    })\r\n    .catch(function (error) {\r\n        console.error('Error:', error);\r\n        throw \"Can't add item\";\r\n    });\r\n};\r\n\r\nfunction removeItemFromTable(id) {\r\n    console.info('Try to remove item');\r\n\r\n    if (!confirm('Do you really want to remove this item?')) {\r\n        console.info('Canceled');\r\n        return;\r\n    }\r\n\r\n    if (!items.has(id)) {\r\n        throw 'Item with id [' + id + '] is not found';\r\n    }\r\n\r\n    fetch(\"http://localhost:8079/lines/\" + id,\r\n        {\r\n            method: 'DELETE'\r\n        })\r\n        .then(function () {\r\n            console.info('Removed');\r\n            loadItemsTable();\r\n        })\r\n        .catch(function (error) {\r\n            console.error('Error:', error);\r\n            throw \"Can't add item\";\r\n        });\r\n    \r\n    fetch(\"http://localhost:8079/items/\" + id,\r\n        {\r\n            method: 'DELETE'\r\n        })\r\n        .then(function () {\r\n            console.info('Removed');\r\n            loadItemsTable();\r\n        })\r\n        .catch(function (error) {\r\n            console.error('Error:', error);\r\n            throw \"Can't add item\";\r\n        });\r\n    \r\n}\r\n\r\nedititem.onclick = async function() {\r\n\r\n    let response = await fetch(\"http://localhost:8079/lines/\" + userid);\r\n    let content = await response.json();\r\n\r\n    if(imagefilms == null) {\r\n        var imglem = document.getElementById('urltoimage').innerHTML = content.imgsource;\r\n        var namelem = document.getElementById('namelem').value;\r\n        var pricelem = document.getElementById('pricelem').value;\r\n        var authorlem = document.getElementById('authorlem').value;\r\n        var descriptionlem = document.getElementById('descriptionlem').value;\r\n    \r\n        const current = {imgsource: imglem, price: pricelem, title: namelem, name: authorlem,description: descriptionlem};\r\n        const currentname = {name: namelem, id: filmid};\r\n    \r\n        fetch(\"http://localhost:8079/lines/\" + userid,\r\n        {\r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-type': \"application/json\",\r\n            },\r\n            body: JSON.stringify(current),\r\n        });\r\n    \r\n        fetch(\"http://localhost:8079/items/\" + userid, \r\n        { \r\n            method: 'PUT',\r\n            headers: {\r\n                'Content-type': \"application/json\",\r\n            },\r\n            body: JSON.stringify(currentname),\r\n        });\r\n    \r\n        loadItemsTable();\r\n    }\r\n    else\r\n\r\n    var imglem = document.getElementById('urltoimage').innerHTML = imagefilms;\r\n    var namelem = document.getElementById('namelem').value;\r\n    var pricelem = document.getElementById('pricelem').value;\r\n    var authorlem = document.getElementById('authorlem').value;\r\n    var descriptionlem = document.getElementById('descriptionlem').value;\r\n\r\n    const current = {imgsource: imglem, price: pricelem, title: namelem, name: authorlem,description: descriptionlem};\r\n    const currentname = {name: namelem, id: filmid};\r\n\r\n    fetch(\"http://localhost:8079/lines/\" + userid,\r\n    {\r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-type': \"application/json\",\r\n        },\r\n        body: JSON.stringify(current),\r\n    });\r\n\r\n    fetch(\"http://localhost:8079/items/\" + userid, \r\n    { \r\n        method: 'PUT',\r\n        headers: {\r\n            'Content-type': \"application/json\",\r\n        },\r\n        body: JSON.stringify(currentname),\r\n    });\r\n\r\n    loadItemsTable();\r\n}\r\n\r\nvar userid;\r\n\r\nfunction editItemFromTable(id) {\r\n    userid = id;\r\n    console.log(userid);\r\n}\r\n\r\nmodalokno.onclick = function() {\r\n    document.getElementById(\"butt\").style.visibility = \"visible\";\r\n    document.getElementById(\"edititem\").style.visibility = \"hidden\"\r\n\r\n}\r\n\r\nasync function addtoitem() {\r\n    let response = await fetch(\"http://localhost:8079/lines/\" + userid);\r\n    let content = await response.json();\r\n\r\n    document.getElementById(\"urltoimage\").innerHTML = content.imgsource;\r\n    document.getElementById(\"namelem\").value = content.title;\r\n    document.getElementById(\"pricelem\").value = content.price;\r\n    document.getElementById(\"authorlem\").value = content.name;\r\n    document.getElementById(\"descriptionlem\").value = content.description;\r\n\r\n    document.getElementById(\"edititem\").style.visibility = \"visible\";\r\n    document.getElementById(\"butt\").style.visibility = \"hidden\"\r\n}\r\n\r\nasync function GetDescription() {\r\n    \r\n    let response = await fetch(\"http://localhost:8079/lines/\" + userid);\r\n    let content = await response.json();\r\n\r\n    function drawItemsTable() {\r\n        console.info('Try to draw table');\r\n\r\n        const desc = document.querySelector(\"#exampleModal1 .modal-dialog .modal-content .modal-header #exampleModal1Label\");\r\n        const table = document.querySelector(\"#exampleModal1 .modal-dialog .modal-content .modal-body #infodesc\");\r\n\r\n        desc.innerHTML = content.title;\r\n        table.innerHTML = content.description;\r\n    }\r\n\r\n    drawItemsTable();\r\n\r\n}\r\n\r\nfunction loadItemsSelect(select) {\r\n    function drawItemsSelect(select, data) {\r\n        fetch(\"handlebars/items-select.html\")\r\n            .then(function (response) {\r\n                return response.text();\r\n            })\r\n            .then(function (html) {\r\n                const template = Handlebars.compile(html);\r\n                select.innerHTML += template({ 'items': data });\r\n            })\r\n            .catch(function (error) {\r\n                console.log('Error:', error);\r\n                throw \"Can't load items\";\r\n            });\r\n    }\r\n\r\n    fetch(\"http://localhost:8079/items\")\r\n        .then(function (response) {\r\n            return response.json();\r\n        })\r\n        .then(function (data) {\r\n            drawItemsSelect(select, data);\r\n        })\r\n        .catch(function (error) {\r\n            console.log('Error:', error);\r\n            throw \"Can't load items\";\r\n        });\r\n}\r\n\r\nfunction donwload(input) {\r\n    let file = input.files[0];\r\n    let reader = new FileReader();\r\n    reader.readAsDataURL(file);\r\n\r\n    reader.onload = function () {\r\n        imagefilms = reader.result;\r\n    }\r\n}\r\n\r\nloadItemsSelect(item);\r\nloadItemsTable();"],"file":"items.dev.js"}